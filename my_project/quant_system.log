2025-11-04 14:04:05,993 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 14:04:05,994 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 14:04:05,995 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 14:04:06,009 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 14:04:06,009 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 14:04:08,222 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 14:04:08,623 - TqsdkGateway - ERROR - 天勤API连接失败: 用户权限认证失败 (422,{'errors': [{'code': 'pattern', 'description': "Does not match pattern '^[0-9a-zA-Z!#$%&amp;&#39;\\(\\)*+,-.:;&lt;=&gt;?@\\[\\]^_`\\{\\\\|\\}~]+$'", 'field': 'password', 'resource': '/auth/realms/shinnytech/protocol/openid-connect/token'}], 'message': 'Validation Failed'})
2025-11-04 14:04:08,626 - QuantSystem - ERROR - 网关连接失败
2025-11-04 14:04:08,626 - QuantSystem - INFO - 网关连接完成
2025-11-04 14:04:08,627 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 14:04:08,627 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 14:04:08,627 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 2.63秒
2025-11-04 14:04:08,627 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 14:04:08,627 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 14:04:08,627 - TqsdkGateway - ERROR - 未连接天勤API
2025-11-04 14:04:08,627 - QuantSystem - ERROR - 历史数据获取失败
2025-11-04 14:04:08,627 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 14:04:08,654 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_140408.json
2025-11-04 14:04:08,654 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 14:04:08,705 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<TqBaseApi._windows_patch() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\baseApi.py:143> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:04:08,706 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-3' coro=<TqApi._notify_watcher() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\api.py:3781> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:02,456 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 14:30:02,456 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 14:30:02,457 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 14:30:02,462 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 14:30:02,462 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 14:30:04,680 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 14:30:47,712 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 43.03秒
2025-11-04 14:30:47,712 - QuantSystem - INFO - 网关连接成功
2025-11-04 14:30:47,712 - QuantSystem - INFO - 网关连接完成
2025-11-04 14:30:47,713 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 14:30:47,713 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 14:30:47,714 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 45.26秒
2025-11-04 14:30:47,714 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 14:30:47,714 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 14:30:47,714 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 14:30:47,714 - TqsdkGateway - INFO - 使用频率: 60秒 (1min)
2025-11-04 14:30:48,015 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.30秒
2025-11-04 14:30:48,016 - QuantSystem - INFO - 开始执行回测...
2025-11-04 14:30:48,016 - QuantSystem - ERROR - 回测执行失败: 'BacktestEngine' object has no attribute 'write_log'
2025-11-04 14:30:48,016 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 14:30:48,016 - QuantSystem - ERROR - 系统停止过程中发生错误: 'BacktestEngine' object has no attribute 'write_log'
2025-11-04 14:30:48,017 - TqsdkGateway - INFO - 触发数据同步检查...
2025-11-04 14:30:50,133 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<TqBaseApi._windows_patch() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\baseApi.py:146> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:50,134 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-3' coro=<TqApi._notify_watcher() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\api.py:3786> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:50,140 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-4' coro=<TqConnect._run() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\connect.py:181> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:50,140 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<TqReconnect._run() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\connect.py:261> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:50,140 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-6' coro=<TqSymbols._run() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\symbols.py:29> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:50,140 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-7' coro=<TqTradingStatus._run() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\trading_status.py:43> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:50,140 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-8' coro=<BaseSim._run() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\tradeable\sim\basesim.py:79> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:50,140 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-9' coro=<TqWebHelper._run() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\tqwebhelper.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:50,140 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-10' coro=<DataExtension._run() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\data_extension.py:85> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:30:50,147 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-21' coro=<TqConnect._send_handler() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\connect.py:230> wait_for=<Future cancelled>>
2025-11-04 14:30:50,150 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-11' coro=<TqReconnect._send_handler() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\connect.py:314> wait_for=<Future cancelled>>
2025-11-04 14:30:50,151 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-12' coro=<TqSymbols._sim_handler() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\symbols.py:71> wait_for=<Future cancelled>>
2025-11-04 14:30:50,153 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-15' coro=<TqModule._up_handler() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\baseModule.py:50> wait_for=<Future cancelled>>
2025-11-04 14:30:50,153 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-14' coro=<TqModule._up_handler() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\baseModule.py:50> wait_for=<Future cancelled>>
2025-11-04 14:30:50,155 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-16' coro=<TqModule._up_handler() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\baseModule.py:50> wait_for=<Future cancelled>>
2025-11-04 14:30:50,157 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-17' coro=<TqWebHelper._data_handler_without_web() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\tqwebhelper.py:165> wait_for=<Future cancelled>>
2025-11-04 14:30:50,159 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-18' coro=<DataExtension._md_handler() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\data_extension.py:107> wait_for=<Future cancelled>>
2025-11-04 14:30:50,253 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-13' coro=<TqTradingStatus._symbol_info_watcher() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\trading_status.py:95> wait_for=<Future cancelled>>
2025-11-04 14:30:50,519 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-20' coro=<Connection.keepalive() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\websockets\asyncio\connection.py:815> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-04 14:30:50,610 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-23' coro=<TqDataFrame.async_update() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\objs_not_entity.py:181> wait_for=<Future finished result=None> cb=[TqBaseApi._on_task_done()]>
2025-11-04 14:37:21,926 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 14:37:21,926 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 14:37:21,927 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 14:37:21,931 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 14:37:21,931 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 14:37:23,695 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 14:38:08,672 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 44.98秒
2025-11-04 14:38:08,672 - QuantSystem - INFO - 网关连接成功
2025-11-04 14:38:08,672 - QuantSystem - INFO - 网关连接完成
2025-11-04 14:38:08,674 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 14:38:08,674 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 14:38:08,674 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 46.75秒
2025-11-04 14:38:08,674 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 14:38:08,674 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 14:38:08,674 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 14:38:08,674 - TqsdkGateway - INFO - 使用频率: 60秒 (1min)
2025-11-04 14:38:08,743 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.07秒
2025-11-04 14:38:08,744 - QuantSystem - INFO - 开始执行回测...
2025-11-04 14:38:08,749 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 14:38:08,749 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 14:38:08,749 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 14:38:08,749 - TqsdkGateway - WARNING - 最终数据同步失败: 'summary'
2025-11-04 14:38:08,848 - TqsdkGateway - WARNING - 断开连接时发生警告: object NoneType can't be used in 'await' expression
2025-11-04 14:38:13,903 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_143813.json
2025-11-04 14:38:13,904 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 14:38:13,904 - TqsdkGateway - INFO - 触发数据同步检查...
2025-11-04 14:50:33,614 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 14:50:33,614 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 14:50:33,615 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 14:50:33,624 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 14:50:33,624 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 14:50:35,049 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 14:51:19,789 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 44.74秒
2025-11-04 14:51:19,790 - QuantSystem - INFO - 网关连接成功
2025-11-04 14:51:19,790 - QuantSystem - INFO - 网关连接完成
2025-11-04 14:51:19,790 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 14:51:19,792 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 14:51:19,792 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 46.18秒
2025-11-04 14:51:19,792 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 14:51:19,792 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 14:51:19,792 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 14:51:19,792 - TqsdkGateway - INFO - 使用频率: 60秒 (1min)
2025-11-04 14:51:20,087 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.29秒
2025-11-04 14:51:20,087 - QuantSystem - INFO - 开始执行回测...
2025-11-04 14:51:20,101 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 14:51:20,101 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 14:51:20,102 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 14:51:20,102 - TqsdkGateway - WARNING - 最终数据同步失败: 'summary'
2025-11-04 14:51:20,208 - TqsdkGateway - WARNING - 断开连接时发生警告: object NoneType can't be used in 'await' expression
2025-11-04 14:51:25,257 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_145125.json
2025-11-04 14:51:25,259 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 14:51:25,259 - TqsdkGateway - INFO - 触发数据同步检查...
2025-11-04 14:58:04,953 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 14:58:04,954 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 14:58:04,954 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 14:58:04,958 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 14:58:04,958 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 14:58:06,469 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 14:58:47,768 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 41.30秒
2025-11-04 14:58:47,768 - QuantSystem - INFO - 网关连接成功
2025-11-04 14:58:47,768 - QuantSystem - INFO - 网关连接完成
2025-11-04 14:58:47,769 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 14:58:47,769 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 14:58:47,769 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 42.82秒
2025-11-04 14:58:47,769 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 14:58:47,769 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 14:58:47,769 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 14:58:47,769 - TqsdkGateway - INFO - 使用频率: 60秒 (1min)
2025-11-04 14:58:47,844 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.07秒
2025-11-04 14:58:47,844 - QuantSystem - INFO - 开始执行回测...
2025-11-04 14:58:47,859 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 14:58:47,859 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 14:58:47,860 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 14:58:47,860 - TqsdkGateway - WARNING - 最终数据同步失败: 'summary'
2025-11-04 14:58:47,956 - TqsdkGateway - WARNING - 断开连接时发生警告: object NoneType can't be used in 'await' expression
2025-11-04 14:58:53,012 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_145853.json
2025-11-04 14:58:53,013 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 14:58:53,013 - TqsdkGateway - INFO - 触发数据同步检查...
2025-11-04 15:33:38,330 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 15:33:38,332 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 15:33:38,333 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 15:33:38,336 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 15:33:38,336 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 15:33:39,795 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 15:34:24,688 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 44.89秒
2025-11-04 15:34:24,688 - QuantSystem - INFO - 网关连接成功
2025-11-04 15:34:24,688 - QuantSystem - INFO - 网关连接完成
2025-11-04 15:34:24,689 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 15:34:24,689 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 15:34:24,690 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 46.36秒
2025-11-04 15:34:24,690 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 15:34:24,690 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 15:34:24,690 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 15:34:24,690 - TqsdkGateway - INFO - 使用频率: 60秒 (1min)
2025-11-04 15:34:24,762 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.07秒
2025-11-04 15:34:24,762 - QuantSystem - INFO - 开始执行回测...
2025-11-04 15:34:24,776 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 15:34:24,776 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 15:34:24,777 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 15:34:24,777 - TqsdkGateway - WARNING - 最终数据同步失败: 'summary'
2025-11-04 15:34:24,869 - TqsdkGateway - WARNING - 断开连接时发生警告: object NoneType can't be used in 'await' expression
2025-11-04 15:34:29,920 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_153429.json
2025-11-04 15:34:29,920 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 15:34:29,921 - TqsdkGateway - INFO - 触发数据同步检查...
2025-11-04 15:45:38,016 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 15:45:38,016 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 15:45:38,017 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 15:45:38,021 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 15:45:38,021 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 15:45:39,419 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 15:46:23,936 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 44.52秒
2025-11-04 15:46:23,937 - QuantSystem - INFO - 网关连接成功
2025-11-04 15:46:23,937 - QuantSystem - INFO - 网关连接完成
2025-11-04 15:46:23,938 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 15:46:23,938 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 15:46:23,938 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 45.92秒
2025-11-04 15:46:23,938 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 15:46:23,938 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 15:46:23,939 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 15:46:23,939 - TqsdkGateway - INFO - 使用频率: 1min秒
2025-11-04 15:46:23,940 - TqsdkGateway - ERROR - 获取历史数据失败: invalid literal for int() with base 10: '1min'
2025-11-04 15:46:23,940 - QuantSystem - ERROR - 历史数据获取失败
2025-11-04 15:46:23,940 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 15:46:23,940 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 15:46:23,941 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-04 15:46:24,041 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-04 15:46:24,138 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-04 15:46:24,138 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-04 15:46:29,188 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_154629.json
2025-11-04 15:46:29,188 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 15:55:01,270 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 15:55:01,271 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 15:55:01,272 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 15:55:01,276 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 15:55:01,276 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 15:55:02,727 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 15:55:50,186 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 47.46秒
2025-11-04 15:55:50,186 - QuantSystem - INFO - 网关连接成功
2025-11-04 15:55:50,186 - QuantSystem - INFO - 网关连接完成
2025-11-04 15:55:50,187 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 15:55:50,187 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 15:55:50,187 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 48.92秒
2025-11-04 15:55:50,188 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 15:55:50,188 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 15:55:50,188 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 15:55:50,188 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-04 15:55:50,260 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.07秒
2025-11-04 15:55:50,260 - QuantSystem - INFO - 开始执行回测...
2025-11-04 15:55:50,272 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 15:55:50,272 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 15:55:50,272 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 15:55:50,272 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-04 15:55:50,376 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-04 15:55:50,512 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-04 15:55:50,512 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-04 15:55:55,552 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_155555.json
2025-11-04 15:55:55,553 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 16:02:55,874 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 16:02:55,874 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 16:02:55,875 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 16:02:55,878 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 16:02:55,878 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 16:02:57,269 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 16:03:38,551 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 41.28秒
2025-11-04 16:03:38,551 - QuantSystem - INFO - 网关连接成功
2025-11-04 16:03:38,551 - QuantSystem - INFO - 网关连接完成
2025-11-04 16:03:38,552 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 16:03:38,552 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 16:03:38,552 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 42.68秒
2025-11-04 16:03:38,552 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 16:03:38,552 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 16:03:38,553 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 16:03:38,553 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-04 16:03:38,620 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.07秒
2025-11-04 16:03:38,621 - QuantSystem - INFO - 开始执行回测...
2025-11-04 16:03:38,633 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 16:03:38,633 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 16:03:38,633 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 16:03:38,633 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-04 16:03:38,744 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-04 16:03:38,864 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-04 16:03:38,864 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-04 16:03:43,894 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_160343.json
2025-11-04 16:03:43,894 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 16:07:08,021 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 16:07:08,021 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 16:07:08,022 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 16:07:08,025 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 16:07:08,027 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 16:07:09,691 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 16:07:59,148 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 49.46秒
2025-11-04 16:07:59,149 - QuantSystem - INFO - 网关连接成功
2025-11-04 16:07:59,149 - QuantSystem - INFO - 网关连接完成
2025-11-04 16:07:59,149 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 16:07:59,150 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 16:07:59,150 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 51.13秒
2025-11-04 16:07:59,150 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 16:07:59,150 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 16:07:59,150 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 16:07:59,150 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-04 16:07:59,268 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.12秒
2025-11-04 16:07:59,268 - QuantSystem - INFO - 开始执行回测...
2025-11-04 16:07:59,282 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 16:07:59,282 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 16:07:59,282 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 16:07:59,282 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-04 16:07:59,390 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-04 16:07:59,551 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-04 16:07:59,551 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-04 16:08:04,602 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_160804.json
2025-11-04 16:08:04,602 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 16:14:47,159 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 16:14:47,159 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 16:14:47,160 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 16:14:47,165 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 16:14:47,166 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 16:14:49,072 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 16:15:36,582 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 47.51秒
2025-11-04 16:15:36,582 - QuantSystem - INFO - 网关连接成功
2025-11-04 16:15:36,583 - QuantSystem - INFO - 网关连接完成
2025-11-04 16:15:36,584 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 16:15:36,584 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 16:15:36,584 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 49.42秒
2025-11-04 16:15:36,584 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 16:15:36,584 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 16:15:36,584 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 16:15:36,584 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-04 16:15:36,722 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.14秒
2025-11-04 16:15:36,722 - QuantSystem - INFO - 开始执行回测...
2025-11-04 16:15:36,734 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 16:15:36,734 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 16:15:36,734 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 16:15:36,734 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-04 16:15:36,842 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-04 16:15:36,959 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-04 16:15:36,959 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-04 16:15:42,000 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_161541.json
2025-11-04 16:15:42,000 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 16:20:42,483 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 16:20:42,483 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 16:20:42,484 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 16:20:42,490 - QuantSystem - INFO - 数据表初始化完成
2025-11-04 16:20:42,490 - QuantSystem - INFO - 数据管理器初始化完成
2025-11-04 16:20:43,999 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 16:21:26,435 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 42.44秒
2025-11-04 16:21:26,436 - QuantSystem - INFO - 网关连接成功
2025-11-04 16:21:26,436 - QuantSystem - INFO - 网关连接完成
2025-11-04 16:21:26,437 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 16:21:26,437 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 16:21:26,437 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 43.95秒
2025-11-04 16:21:26,438 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 16:21:26,438 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 16:21:26,438 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 16:21:26,438 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-04 16:21:26,513 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.07秒
2025-11-04 16:21:26,513 - QuantSystem - INFO - 开始执行回测...
2025-11-04 16:21:26,525 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 16:21:26,526 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 16:21:26,526 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 16:21:26,526 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-04 16:21:26,630 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-04 16:21:26,756 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-04 16:21:26,756 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-04 16:21:31,788 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_162131.json
2025-11-04 16:21:31,789 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 16:29:47,641 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 16:29:47,641 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 16:29:47,642 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 16:29:47,647 - QuantSystem - ERROR - 系统初始化失败: 'PositionTable' object has no attribute 'table_name'
2025-11-04 16:34:01,003 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 16:34:01,003 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 16:34:01,004 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 16:34:01,010 - QuantSystem - ERROR - 系统初始化失败: 'PositionTable' object has no attribute 'table_name'
2025-11-04 16:37:00,019 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 16:37:00,019 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 16:37:00,020 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 16:37:00,027 - QuantSystem - ERROR - 系统初始化失败: PositionTable.__init__() missing 1 required positional argument: 'table_name'
2025-11-04 17:13:24,687 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 17:13:24,687 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 17:13:24,689 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 17:13:24,689 - QuantSystem - ERROR - 系统初始化失败: PositionTable.__init__() missing 1 required positional argument: 'table_name'
2025-11-04 18:01:38,719 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 18:01:38,720 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 18:01:38,721 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 18:01:38,721 - QuantSystem - ERROR - 数据表初始化失败
2025-11-04 18:03:17,419 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 18:03:17,419 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 18:03:17,420 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 18:03:17,420 - QuantSystem - ERROR - 数据表初始化失败
2025-11-04 18:09:28,730 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 18:09:28,730 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 18:09:28,732 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 18:09:28,835 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 4, 18, 9, 28, 835990), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-04 18:09:31,784 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 18:10:16,519 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 44.74秒
2025-11-04 18:10:16,520 - QuantSystem - INFO - 网关连接成功
2025-11-04 18:10:16,520 - QuantSystem - INFO - 网关连接完成
2025-11-04 18:10:16,520 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 18:10:16,520 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 18:10:16,520 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 47.79秒
2025-11-04 18:10:16,520 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 18:10:16,520 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 18:10:16,522 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 18:10:16,522 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-04 18:10:16,605 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.08秒
2025-11-04 18:10:16,606 - QuantSystem - INFO - 开始执行回测...
2025-11-04 18:10:16,606 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 18:10:16,606 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 18:10:16,606 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 18:10:16,606 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-04 18:10:16,706 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-04 18:10:16,823 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-04 18:10:16,824 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-04 18:10:21,851 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_181021.json
2025-11-04 18:10:21,852 - QuantSystem - INFO - 量化交易系统已停止
2025-11-04 18:17:56,014 - QuantSystem - INFO - 日志系统初始化完成
2025-11-04 18:17:56,015 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-04 18:17:56,015 - QuantSystem - INFO - 事件引擎启动完成
2025-11-04 18:17:56,121 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 4, 18, 17, 56, 121702), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-04 18:17:58,031 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-04 18:18:39,254 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 41.22秒
2025-11-04 18:18:39,254 - QuantSystem - INFO - 网关连接成功
2025-11-04 18:18:39,254 - QuantSystem - INFO - 网关连接完成
2025-11-04 18:18:39,255 - QuantSystem - INFO - 监控服务启动完成
2025-11-04 18:18:39,255 - QuantSystem - INFO - 监控指标注册完成
2025-11-04 18:18:39,255 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 43.24秒
2025-11-04 18:18:39,255 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-04 18:18:39,255 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 18:18:39,255 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-04 18:18:39,256 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-04 18:18:39,390 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.13秒
2025-11-04 18:18:39,390 - QuantSystem - INFO - 开始执行回测...
2025-11-04 18:18:39,391 - DataTable.account - ERROR - 缺少必需字段: account_id
2025-11-04 18:18:39,393 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-04 18:18:39,393 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-04 18:18:39,393 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-04 18:18:39,393 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-04 18:18:39,501 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-04 18:18:39,616 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-04 18:18:39,616 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-04 18:18:44,671 - QuantSystem - INFO - 系统报告已保存: system_report_20251104_181844.json
2025-11-04 18:18:44,671 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 20:43:46,516 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 20:43:46,516 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 20:43:46,518 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 20:43:46,627 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 20, 43, 46, 627008), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 20:43:53,063 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 20:43:56,339 - TqsdkGateway - ERROR - 天勤API连接失败: ('Connection aborted.', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None))
2025-11-06 20:43:56,339 - QuantSystem - ERROR - 网关连接失败
2025-11-06 20:43:56,339 - QuantSystem - INFO - 网关连接完成
2025-11-06 20:43:56,340 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 20:43:56,340 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 20:43:56,341 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 9.82秒
2025-11-06 20:43:56,341 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 20:43:56,341 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 20:43:56,341 - TqsdkGateway - ERROR - 未连接天勤API
2025-11-06 20:43:56,341 - QuantSystem - ERROR - 历史数据获取失败
2025-11-06 20:43:56,342 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 20:43:56,342 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 20:43:56,342 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 20:43:56,450 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 20:43:56,450 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 20:44:01,533 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_204401.json
2025-11-06 20:44:01,533 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 20:44:01,593 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-4' coro=<TqApi._notify_watcher() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\api.py:3781> cb=[TqBaseApi._on_task_done()]>
2025-11-06 20:44:01,594 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-3' coro=<TqBaseApi._windows_patch() running at D:\Anaconda\envs\myEnvironment\lib\site-packages\tqsdk\baseApi.py:143> cb=[TqBaseApi._on_task_done()]>
2025-11-06 20:46:30,942 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 20:46:30,943 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 20:46:30,944 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 20:46:31,054 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 20, 46, 31, 54925), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 20:46:34,378 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 20:47:24,776 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 50.40秒
2025-11-06 20:47:24,776 - QuantSystem - INFO - 网关连接成功
2025-11-06 20:47:24,776 - QuantSystem - INFO - 网关连接完成
2025-11-06 20:47:24,777 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 20:47:24,778 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 20:47:24,778 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 53.84秒
2025-11-06 20:47:24,778 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 20:47:24,778 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 20:47:24,778 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 20:47:24,778 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 20:47:24,988 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.21秒
2025-11-06 20:47:24,988 - QuantSystem - INFO - 开始执行回测...
2025-11-06 20:47:24,989 - DataTable.account - ERROR - 缺少必需字段: account_id
2025-11-06 20:47:24,993 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-06 20:47:24,993 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 20:47:24,993 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 20:47:24,993 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 20:47:25,100 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 20:47:25,237 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 20:47:25,237 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 20:47:30,351 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_204730.json
2025-11-06 20:47:30,352 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 21:02:30,799 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 21:02:30,800 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 21:02:30,801 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 21:02:30,912 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 21, 2, 30, 912274), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 21:02:34,530 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 21:03:22,779 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 48.25秒
2025-11-06 21:03:22,780 - QuantSystem - INFO - 网关连接成功
2025-11-06 21:03:22,780 - QuantSystem - INFO - 网关连接完成
2025-11-06 21:03:22,781 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 21:03:22,782 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 21:03:22,782 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 51.98秒
2025-11-06 21:03:22,782 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 21:03:22,782 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:03:22,782 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:03:22,783 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 21:03:22,929 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.15秒
2025-11-06 21:03:22,929 - QuantSystem - INFO - 开始执行回测...
2025-11-06 21:03:22,930 - DataTable.account - ERROR - 缺少必需字段: account_id
2025-11-06 21:03:22,935 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma SHORT
2025-11-06 21:03:22,945 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma COVER
2025-11-06 21:03:22,945 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-06 21:03:22,945 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 21:03:22,945 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 21:03:22,945 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 21:03:23,047 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 21:03:23,169 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 21:03:23,169 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 21:03:28,215 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_210328.json
2025-11-06 21:03:28,215 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 21:11:24,649 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 21:11:24,649 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 21:11:24,650 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 21:11:24,763 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 21, 11, 24, 763180), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 21:11:27,473 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 21:12:16,765 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 49.29秒
2025-11-06 21:12:16,766 - QuantSystem - INFO - 网关连接成功
2025-11-06 21:12:16,766 - QuantSystem - INFO - 网关连接完成
2025-11-06 21:12:16,766 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 21:12:16,767 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 21:12:16,767 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 52.12秒
2025-11-06 21:12:16,767 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 21:12:16,767 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:12:16,768 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:12:16,768 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 21:12:17,632 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.86秒
2025-11-06 21:12:17,632 - QuantSystem - INFO - 开始执行回测...
2025-11-06 21:12:17,634 - DataTable.account - ERROR - 缺少必需字段: account_id
2025-11-06 21:12:17,640 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma SHORT
2025-11-06 21:12:17,651 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma COVER
2025-11-06 21:12:17,651 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-06 21:12:17,651 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 21:12:17,652 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 21:12:17,652 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 21:12:17,767 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 21:12:17,940 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 21:12:17,940 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 21:12:23,035 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_211223.json
2025-11-06 21:12:23,035 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 21:17:37,261 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 21:17:37,261 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 21:17:37,263 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 21:17:37,364 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 21, 17, 37, 364702), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 21:17:39,395 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 21:18:29,911 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 50.52秒
2025-11-06 21:18:29,911 - QuantSystem - INFO - 网关连接成功
2025-11-06 21:18:29,911 - QuantSystem - INFO - 网关连接完成
2025-11-06 21:18:29,912 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 21:18:29,912 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 21:18:29,912 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 52.65秒
2025-11-06 21:18:29,913 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 21:18:29,913 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:18:29,913 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:18:29,913 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 21:18:30,931 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 1.02秒
2025-11-06 21:18:30,932 - QuantSystem - INFO - 开始执行回测...
2025-11-06 21:18:30,942 - DataTable.account - ERROR - 缺少必需字段: account_id
2025-11-06 21:18:30,949 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:18:30,949 - DataTable.trade - ERROR - 缺少必需字段: trade_id
2025-11-06 21:18:30,949 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma SHORT
2025-11-06 21:18:30,958 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:18:30,959 - DataTable.trade - ERROR - 缺少必需字段: trade_id
2025-11-06 21:18:30,959 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma COVER
2025-11-06 21:18:30,959 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-06 21:18:30,959 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 21:18:30,959 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 21:18:30,959 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 21:18:31,066 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 21:18:31,516 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 21:18:31,516 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 21:18:36,525 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_211836.json
2025-11-06 21:18:36,525 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 21:22:51,733 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 21:22:51,734 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 21:22:51,735 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 21:22:51,844 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 21, 22, 51, 844931), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 21:22:54,853 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 21:23:54,408 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 59.55秒
2025-11-06 21:23:54,408 - QuantSystem - INFO - 网关连接成功
2025-11-06 21:23:54,408 - QuantSystem - INFO - 网关连接完成
2025-11-06 21:23:54,409 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 21:23:54,410 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 21:23:54,410 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 62.68秒
2025-11-06 21:23:54,410 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 21:23:54,410 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:23:54,410 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:23:54,410 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 21:23:55,845 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 1.43秒
2025-11-06 21:23:55,846 - QuantSystem - INFO - 开始执行回测...
2025-11-06 21:23:55,846 - DataTable.account - ERROR - 缺少必需字段: account_id
2025-11-06 21:23:55,853 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:23:55,853 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma SHORT
2025-11-06 21:23:55,864 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:23:55,864 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma COVER
2025-11-06 21:23:55,864 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-06 21:23:55,864 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 21:23:55,864 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 21:23:55,865 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 21:23:55,978 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 21:23:56,094 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 21:23:56,094 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 21:24:01,134 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_212401.json
2025-11-06 21:24:01,135 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 21:30:29,120 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 21:30:29,120 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 21:30:29,122 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 21:30:29,233 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 21, 30, 29, 233415), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 21:30:31,294 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 21:31:24,070 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 52.78秒
2025-11-06 21:31:24,071 - QuantSystem - INFO - 网关连接成功
2025-11-06 21:31:24,071 - QuantSystem - INFO - 网关连接完成
2025-11-06 21:31:24,072 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 21:31:24,072 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 21:31:24,072 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 54.95秒
2025-11-06 21:31:24,073 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 21:31:24,073 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:31:24,073 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:31:24,073 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 21:31:24,278 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.21秒
2025-11-06 21:31:24,279 - QuantSystem - INFO - 开始执行回测...
2025-11-06 21:31:24,279 - DataTable.account - WARNING - 自动生成account_id: account_20251106_213124
2025-11-06 21:31:24,286 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:31:24,286 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma SHORT
2025-11-06 21:31:24,296 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:31:24,296 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma COVER
2025-11-06 21:31:24,296 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-06 21:31:24,296 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 21:31:24,296 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 21:31:24,296 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 21:31:24,399 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 21:31:24,612 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 21:31:24,612 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 21:31:29,650 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_213129.json
2025-11-06 21:31:29,650 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 21:41:22,954 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 21:41:22,955 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 21:41:22,957 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 21:41:23,071 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 21, 41, 23, 71892), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 21:41:25,302 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 21:42:15,823 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 50.52秒
2025-11-06 21:42:15,823 - QuantSystem - INFO - 网关连接成功
2025-11-06 21:42:15,823 - QuantSystem - INFO - 网关连接完成
2025-11-06 21:42:15,824 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 21:42:15,824 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 21:42:15,824 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 52.87秒
2025-11-06 21:42:15,824 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 21:42:15,825 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:42:15,825 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:42:15,825 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 21:42:16,005 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.18秒
2025-11-06 21:42:16,005 - QuantSystem - INFO - 开始执行回测...
2025-11-06 21:42:16,006 - DataTable.account - WARNING - 自动生成account_id: account_20251106_214216
2025-11-06 21:42:16,012 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:42:16,012 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma SHORT
2025-11-06 21:42:16,022 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:42:16,022 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma COVER
2025-11-06 21:42:16,022 - QuantSystem - ERROR - 回测执行失败: object NoneType can't be used in 'await' expression
2025-11-06 21:42:16,023 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 21:42:16,023 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 21:42:16,023 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 21:42:16,135 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 21:42:16,270 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 21:42:16,270 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 21:42:21,383 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_214221.json
2025-11-06 21:42:21,383 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 21:53:02,689 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 21:53:02,689 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 21:53:02,690 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 21:53:02,794 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 21, 53, 2, 794418), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 21:53:05,219 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 21:53:54,556 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 49.34秒
2025-11-06 21:53:54,556 - QuantSystem - INFO - 网关连接成功
2025-11-06 21:53:54,556 - QuantSystem - INFO - 网关连接完成
2025-11-06 21:53:54,558 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 21:53:54,558 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 21:53:54,558 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 51.87秒
2025-11-06 21:53:54,558 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 21:53:54,558 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:53:54,558 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 21:53:54,559 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 21:53:54,769 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.21秒
2025-11-06 21:53:54,770 - QuantSystem - INFO - 开始执行回测...
2025-11-06 21:53:54,770 - DataTable.account - WARNING - 自动生成account_id: account_20251106_215354
2025-11-06 21:53:54,779 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:53:54,779 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma SHORT
2025-11-06 21:53:54,789 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 21:53:54,790 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma COVER
2025-11-06 21:53:54,790 - QuantSystem - INFO - 回测完成，耗时: 0.02秒
2025-11-06 21:53:54,790 - QuantSystem - ERROR - 回测执行失败: 'BacktestEngine' object has no attribute 'generate_report'
2025-11-06 21:53:54,790 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 21:53:54,795 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 21:53:54,795 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 21:53:54,795 - QuantSystem - INFO - 回测监控任务已停止
2025-11-06 21:53:54,908 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 21:53:55,055 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 21:53:55,056 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 21:54:00,161 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_215400.json
2025-11-06 21:54:00,161 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 22:05:24,236 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 22:05:24,236 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 22:05:24,237 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 22:05:24,340 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 22, 5, 24, 340490), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 22:05:26,318 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 22:06:13,162 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 46.84秒
2025-11-06 22:06:13,162 - QuantSystem - INFO - 网关连接成功
2025-11-06 22:06:13,162 - QuantSystem - INFO - 网关连接完成
2025-11-06 22:06:13,163 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 22:06:13,164 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 22:06:13,164 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 48.93秒
2025-11-06 22:06:13,164 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 22:06:13,164 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 22:06:13,164 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 22:06:13,164 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 22:06:13,327 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.16秒
2025-11-06 22:06:13,327 - QuantSystem - INFO - 开始执行回测...
2025-11-06 22:06:13,328 - DataTable.account - WARNING - 自动生成account_id: account_20251106_220613
2025-11-06 22:06:13,335 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 22:06:13,335 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma SHORT
2025-11-06 22:06:13,346 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 22:06:13,346 - DataTable.position - WARNING - 尝试平仓但无持仓: double_ma COVER
2025-11-06 22:06:13,346 - QuantSystem - INFO - 回测完成，耗时: 0.02秒
2025-11-06 22:06:13,347 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251106_220613.json
2025-11-06 22:06:13,347 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 22:06:13,347 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 22:06:13,347 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 22:06:13,348 - QuantSystem - INFO - 回测监控任务已停止
2025-11-06 22:06:13,455 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 22:06:13,622 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 22:06:13,622 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 22:06:18,704 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_220618.json
2025-11-06 22:06:18,704 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 22:22:32,061 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 22:22:32,061 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 22:22:32,063 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 22:22:32,174 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 22, 22, 32, 174934), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 22:22:35,269 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 22:23:22,196 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 46.93秒
2025-11-06 22:23:22,197 - QuantSystem - INFO - 网关连接成功
2025-11-06 22:23:22,197 - QuantSystem - INFO - 网关连接完成
2025-11-06 22:23:22,198 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 22:23:22,198 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 22:23:22,198 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 50.14秒
2025-11-06 22:23:22,198 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 22:23:22,199 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 22:23:22,199 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 22:23:22,199 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 22:23:22,701 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.50秒
2025-11-06 22:23:22,701 - QuantSystem - INFO - 开始执行回测...
2025-11-06 22:23:22,702 - DataTable.account - WARNING - 自动生成account_id: account_20251106_222322
2025-11-06 22:23:22,710 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 22:23:22,710 - DataTable.position - ERROR - direction参数类型错误: 期望str, 实际<class 'float'>
2025-11-06 22:23:22,721 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 22:23:22,721 - DataTable.position - ERROR - direction参数类型错误: 期望str, 实际<class 'float'>
2025-11-06 22:23:22,722 - QuantSystem - INFO - 回测完成，耗时: 0.02秒
2025-11-06 22:23:22,723 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251106_222322.json
2025-11-06 22:23:22,724 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 22:23:22,724 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 22:23:22,724 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 22:23:22,724 - QuantSystem - INFO - 回测监控任务已停止
2025-11-06 22:23:22,828 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 22:23:22,970 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 22:23:22,970 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 22:23:28,077 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_222328.json
2025-11-06 22:23:28,078 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 22:32:53,102 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 22:32:53,102 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 22:32:53,103 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 22:32:53,210 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 22, 32, 53, 210745), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 22:32:55,203 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 22:33:42,271 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 47.07秒
2025-11-06 22:33:42,271 - QuantSystem - INFO - 网关连接成功
2025-11-06 22:33:42,271 - QuantSystem - INFO - 网关连接完成
2025-11-06 22:33:42,272 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 22:33:42,272 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 22:33:42,272 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 49.17秒
2025-11-06 22:33:42,272 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 22:33:42,273 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 22:33:42,273 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 22:33:42,273 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 22:33:42,462 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.19秒
2025-11-06 22:33:42,462 - QuantSystem - INFO - 开始执行回测...
2025-11-06 22:33:42,462 - DataTable.account - WARNING - 自动生成account_id: account_20251106_223342
2025-11-06 22:33:42,469 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 22:33:42,478 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 22:33:42,479 - QuantSystem - INFO - 回测完成，耗时: 0.02秒
2025-11-06 22:33:42,480 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251106_223342.json
2025-11-06 22:33:42,480 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 22:33:42,481 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 22:33:42,481 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 22:33:42,481 - QuantSystem - INFO - 回测监控任务已停止
2025-11-06 22:33:42,587 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 22:33:42,711 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 22:33:42,711 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 22:33:47,733 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_223347.json
2025-11-06 22:33:47,734 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 23:00:28,647 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 23:00:28,647 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 23:00:28,648 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 23:00:28,760 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 23, 0, 28, 760648), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 23:00:32,545 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 23:01:20,964 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 48.42秒
2025-11-06 23:01:20,964 - QuantSystem - INFO - 网关连接成功
2025-11-06 23:01:20,964 - QuantSystem - INFO - 网关连接完成
2025-11-06 23:01:20,965 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 23:01:20,966 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 23:01:20,966 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 52.32秒
2025-11-06 23:01:20,966 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 23:01:20,966 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 23:01:20,966 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 23:01:20,966 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 23:01:21,172 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.21秒
2025-11-06 23:01:21,172 - QuantSystem - INFO - 开始执行回测...
2025-11-06 23:01:21,173 - DataTable.account - WARNING - 自动生成account_id: account_20251106_230121
2025-11-06 23:01:21,181 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 23:01:21,191 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 23:01:21,415 - QuantSystem - INFO - 回测完成，耗时: 0.24秒
2025-11-06 23:01:21,417 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251106_230121.json
2025-11-06 23:01:21,417 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 23:01:21,417 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 23:01:21,417 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 23:01:21,417 - QuantSystem - INFO - 回测监控任务已停止
2025-11-06 23:01:21,523 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 23:01:21,835 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 23:01:21,835 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 23:01:26,871 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_230126.json
2025-11-06 23:01:26,872 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 23:07:21,094 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 23:07:21,094 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 23:07:21,095 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 23:07:21,208 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 23, 7, 21, 208239), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 23:07:23,686 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 23:08:13,767 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 50.08秒
2025-11-06 23:08:13,768 - QuantSystem - INFO - 网关连接成功
2025-11-06 23:08:13,768 - QuantSystem - INFO - 网关连接完成
2025-11-06 23:08:13,769 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 23:08:13,769 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 23:08:13,769 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 52.67秒
2025-11-06 23:08:13,770 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 23:08:13,770 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 23:08:13,770 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 23:08:13,770 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 23:08:13,947 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.18秒
2025-11-06 23:08:13,947 - QuantSystem - INFO - 开始执行回测...
2025-11-06 23:08:13,947 - DataTable.account - WARNING - 自动生成account_id: account_20251106_230813
2025-11-06 23:08:13,947 - DataTable.account - ERROR - 保存账户数据失败: 'DataSyncService' object has no attribute 'sync_data'
2025-11-06 23:08:13,955 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 23:08:13,969 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 23:08:14,192 - QuantSystem - INFO - 回测完成，耗时: 0.25秒
2025-11-06 23:08:14,194 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251106_230814.json
2025-11-06 23:08:14,195 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 23:08:14,195 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 23:08:14,195 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 23:08:14,195 - QuantSystem - INFO - 回测监控任务已停止
2025-11-06 23:08:14,302 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 23:08:14,476 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 23:08:14,477 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 23:08:19,563 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_230819.json
2025-11-06 23:08:19,563 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 23:13:41,357 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 23:13:41,357 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 23:13:41,358 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 23:13:41,467 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 23, 13, 41, 467245), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 23:13:43,862 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 23:14:31,655 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 47.79秒
2025-11-06 23:14:31,656 - QuantSystem - INFO - 网关连接成功
2025-11-06 23:14:31,656 - QuantSystem - INFO - 网关连接完成
2025-11-06 23:14:31,657 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 23:14:31,657 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 23:14:31,657 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 50.30秒
2025-11-06 23:14:31,657 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 23:14:31,657 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 23:14:31,658 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 23:14:31,658 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 23:14:31,823 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.16秒
2025-11-06 23:14:31,824 - QuantSystem - INFO - 开始执行回测...
2025-11-06 23:14:31,824 - DataTable.account - WARNING - 自动生成account_id: account_20251106_231431
2025-11-06 23:14:31,824 - DataSyncService - WARNING - 表 account 没有找到适用的同步规则
2025-11-06 23:14:31,832 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 23:14:31,843 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 23:14:32,057 - QuantSystem - INFO - 回测完成，耗时: 0.23秒
2025-11-06 23:14:32,060 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251106_231432.json
2025-11-06 23:14:32,060 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 23:14:32,060 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 23:14:32,060 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 23:14:32,060 - QuantSystem - INFO - 回测监控任务已停止
2025-11-06 23:14:32,168 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 23:14:32,482 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 23:14:32,482 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 23:14:37,537 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_231437.json
2025-11-06 23:14:37,538 - QuantSystem - INFO - 量化交易系统已停止
2025-11-06 23:22:17,030 - QuantSystem - INFO - 日志系统初始化完成
2025-11-06 23:22:17,030 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-06 23:22:17,032 - QuantSystem - INFO - 事件引擎启动完成
2025-11-06 23:22:17,144 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 6, 23, 22, 17, 144287), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-06 23:22:19,492 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-06 23:23:06,403 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 46.91秒
2025-11-06 23:23:06,403 - QuantSystem - INFO - 网关连接成功
2025-11-06 23:23:06,403 - QuantSystem - INFO - 网关连接完成
2025-11-06 23:23:06,404 - QuantSystem - INFO - 监控服务启动完成
2025-11-06 23:23:06,404 - QuantSystem - INFO - 监控指标注册完成
2025-11-06 23:23:06,404 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 49.37秒
2025-11-06 23:23:06,404 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-06 23:23:06,404 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 23:23:06,404 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-06 23:23:06,404 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-06 23:23:06,589 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.19秒
2025-11-06 23:23:06,589 - QuantSystem - INFO - 开始执行回测...
2025-11-06 23:23:06,590 - DataTable.account - WARNING - 自动生成account_id: account_20251106_232306
2025-11-06 23:23:06,590 - DataSyncService - INFO - 规则 account_sync: 数据已转换，需要外部表进行保存
2025-11-06 23:23:06,598 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 23:23:06,608 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-06 23:23:06,821 - QuantSystem - INFO - 回测完成，耗时: 0.23秒
2025-11-06 23:23:06,823 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251106_232306.json
2025-11-06 23:23:06,823 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-06 23:23:06,823 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-06 23:23:06,823 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-06 23:23:06,824 - QuantSystem - INFO - 回测监控任务已停止
2025-11-06 23:23:06,929 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-06 23:23:07,302 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-06 23:23:07,303 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-06 23:23:12,328 - QuantSystem - INFO - 系统报告已保存: system_report_20251106_232312.json
2025-11-06 23:23:12,328 - QuantSystem - INFO - 量化交易系统已停止
2025-11-09 21:45:34,310 - QuantSystem - INFO - 日志系统初始化完成
2025-11-09 21:45:34,310 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-09 21:45:34,312 - QuantSystem - INFO - 事件引擎启动完成
2025-11-09 21:45:34,427 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 9, 21, 45, 34, 427302), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-09 21:45:39,224 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-09 21:46:39,737 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 60.51秒
2025-11-09 21:46:39,739 - QuantSystem - INFO - 网关连接成功
2025-11-09 21:46:39,739 - QuantSystem - INFO - 网关连接完成
2025-11-09 21:46:39,742 - QuantSystem - INFO - 监控服务启动完成
2025-11-09 21:46:39,742 - QuantSystem - INFO - 监控指标注册完成
2025-11-09 21:46:39,742 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 65.43秒
2025-11-09 21:46:39,742 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-09 21:46:39,742 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-09 21:46:39,743 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-09 21:46:39,743 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-09 21:46:39,951 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.21秒
2025-11-09 21:46:39,951 - QuantSystem - INFO - 开始执行回测...
2025-11-09 21:46:39,952 - DataTable.account - WARNING - 自动生成account_id: account_20251109_214639
2025-11-09 21:46:39,952 - DataSyncService - INFO - 规则 account_sync: 数据已转换，需要外部表进行保存
2025-11-09 21:46:39,966 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-09 21:46:39,982 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-09 21:46:40,207 - QuantSystem - INFO - 回测完成，耗时: 0.26秒
2025-11-09 21:46:40,209 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251109_214640.json
2025-11-09 21:46:40,210 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-09 21:46:40,210 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-09 21:46:40,210 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-09 21:46:40,210 - QuantSystem - INFO - 回测监控任务已停止
2025-11-09 21:46:40,315 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-09 21:46:40,468 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-09 21:46:40,468 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-09 21:46:45,486 - QuantSystem - INFO - 系统报告已保存: system_report_20251109_214645.json
2025-11-09 21:46:45,488 - QuantSystem - INFO - 量化交易系统已停止
2025-11-09 22:01:29,986 - QuantSystem - INFO - 日志系统初始化完成
2025-11-09 22:01:29,987 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-09 22:01:29,987 - QuantSystem - INFO - 事件引擎启动完成
2025-11-09 22:01:30,099 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 9, 22, 1, 30, 99926), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-09 22:01:34,067 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-09 22:02:20,817 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 46.75秒
2025-11-09 22:02:20,817 - QuantSystem - INFO - 网关连接成功
2025-11-09 22:02:20,817 - QuantSystem - INFO - 网关连接完成
2025-11-09 22:02:20,818 - QuantSystem - INFO - 监控服务启动完成
2025-11-09 22:02:20,819 - QuantSystem - INFO - 监控指标注册完成
2025-11-09 22:02:20,819 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 50.83秒
2025-11-09 22:02:20,819 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-09 22:02:20,819 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-09 22:02:20,819 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-09 22:02:20,819 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-09 22:02:21,033 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.21秒
2025-11-09 22:02:21,033 - QuantSystem - INFO - 开始执行回测...
2025-11-09 22:02:21,033 - DataTable.account - WARNING - 自动生成account_id: account_20251109_220221
2025-11-09 22:02:21,033 - DataSyncService - INFO - 规则 account_sync: 数据已转换，需要外部表进行保存
2025-11-09 22:02:21,042 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-09 22:02:21,054 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-09 22:02:21,273 - QuantSystem - INFO - 回测完成，耗时: 0.24秒
2025-11-09 22:02:21,275 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251109_220221.json
2025-11-09 22:02:21,275 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-09 22:02:21,275 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-09 22:02:21,275 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-09 22:02:21,276 - QuantSystem - INFO - 回测监控任务已停止
2025-11-09 22:02:21,383 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-09 22:02:21,550 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-09 22:02:21,551 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-09 22:02:26,614 - QuantSystem - INFO - 系统报告已保存: system_report_20251109_220226.json
2025-11-09 22:02:26,614 - QuantSystem - INFO - 量化交易系统已停止
2025-11-10 15:21:03,371 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 15:21:03,371 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 15:21:03,372 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 15:21:03,480 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 15, 21, 3, 480296), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 15:21:07,766 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 15:22:10,024 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 62.26秒
2025-11-10 15:22:10,024 - QuantSystem - INFO - 网关连接成功
2025-11-10 15:22:10,025 - QuantSystem - INFO - 网关连接完成
2025-11-10 15:22:10,025 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 15:22:10,025 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 15:22:10,025 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 66.65秒
2025-11-10 15:22:10,026 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 15:22:10,026 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-10 15:22:10,026 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-10 15:22:10,026 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-10 15:22:10,203 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.18秒
2025-11-10 15:22:10,203 - QuantSystem - INFO - 开始执行回测...
2025-11-10 15:22:10,203 - DataTable.account - WARNING - 自动生成account_id: account_20251110_152210
2025-11-10 15:22:10,204 - DataSyncService - INFO - 规则 account_sync: 数据已转换，需要外部表进行保存
2025-11-10 15:22:10,219 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-10 15:22:10,245 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-10 15:22:10,463 - QuantSystem - INFO - 回测完成，耗时: 0.26秒
2025-11-10 15:22:10,476 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251110_152210.json
2025-11-10 15:22:10,476 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 15:22:10,476 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 15:22:10,476 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 15:22:10,476 - QuantSystem - INFO - 回测监控任务已停止
2025-11-10 15:22:10,587 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 15:22:10,738 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-10 15:22:10,739 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 15:22:15,777 - QuantSystem - INFO - 系统报告已保存: system_report_20251110_152215.json
2025-11-10 15:22:15,777 - QuantSystem - INFO - 量化交易系统已停止
2025-11-10 15:37:42,806 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 15:37:42,808 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 15:37:42,809 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 15:37:42,925 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 15, 37, 42, 925165), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 15:37:47,082 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 15:39:13,380 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 86.30秒
2025-11-10 15:39:13,380 - QuantSystem - INFO - 网关连接成功
2025-11-10 15:39:13,380 - QuantSystem - INFO - 网关连接完成
2025-11-10 15:39:13,380 - QuantSystem - INFO - 开始初始数据一致性检查...
2025-11-10 15:39:13,380 - QuantSystem - ERROR - 初始一致性检查失败: 'AccountTable' object has no attribute 'get_all_data'
2025-11-10 15:39:13,381 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 15:39:13,382 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 15:39:13,382 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 90.57秒
2025-11-10 15:39:13,382 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 15:39:13,382 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 15:39:13,382 - QuantSystem - WARNING - 回测前一致性检查失败: 'AccountTable' object has no attribute 'get_all_data'
2025-11-10 15:39:13,382 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-10 15:39:13,383 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-10 15:39:13,383 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-10 15:39:14,708 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 1.32秒
2025-11-10 15:39:14,708 - QuantSystem - INFO - 开始执行回测...
2025-11-10 15:39:14,709 - DataTable.account - WARNING - 自动生成account_id: account_20251110_153914
2025-11-10 15:39:14,709 - DataSyncService - INFO - 规则 account_sync: 数据已转换，需要外部表进行保存
2025-11-10 15:39:14,721 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-10 15:39:14,740 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-10 15:39:14,966 - QuantSystem - INFO - 回测完成，耗时: 0.26秒
2025-11-10 15:39:14,968 - QuantSystem - INFO - 执行回测后一致性检查...
2025-11-10 15:39:14,968 - QuantSystem - WARNING - 回测后一致性检查失败: 'AccountTable' object has no attribute 'get_all_data'
2025-11-10 15:39:14,969 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251110_153914.json
2025-11-10 15:39:14,969 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 15:39:14,969 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 15:39:14,970 - QuantSystem - WARNING - 最终一致性检查失败: 'AccountTable' object has no attribute 'get_all_data'
2025-11-10 15:39:14,970 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 15:39:14,970 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 15:39:14,970 - QuantSystem - INFO - 回测监控任务已停止
2025-11-10 15:39:15,076 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 15:39:17,083 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-10 15:39:17,084 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 15:39:20,493 - QuantSystem - INFO - 系统报告已保存: system_report_20251110_153920.json
2025-11-10 15:39:20,493 - QuantSystem - INFO - 量化交易系统已停止
2025-11-10 15:43:52,051 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 15:43:52,051 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 15:43:52,053 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 15:43:52,177 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 15, 43, 52, 177430), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 15:43:55,643 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 15:45:05,331 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 69.69秒
2025-11-10 15:45:05,331 - QuantSystem - INFO - 网关连接成功
2025-11-10 15:45:05,331 - QuantSystem - INFO - 网关连接完成
2025-11-10 15:45:05,332 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 15:45:05,332 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 15:45:05,332 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 73.28秒
2025-11-10 15:45:05,332 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 15:45:05,333 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 15:45:05,333 - QuantSystem - WARNING - 回测前一致性检查失败: 'AccountTable' object has no attribute 'get_all_data'
2025-11-10 15:45:05,333 - QuantSystem - INFO - 获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-10 15:45:05,333 - TqsdkGateway - INFO - 开始获取历史数据: SHFE.cu2401 2024-01-01 到 2024-01-05
2025-11-10 15:45:05,333 - TqsdkGateway - INFO - 原始频率: 1min, 解析后: 60秒
2025-11-10 15:45:05,550 - TqsdkGateway - INFO - 成功获取 200 条历史数据，耗时: 0.22秒
2025-11-10 15:45:05,550 - QuantSystem - INFO - 开始执行回测...
2025-11-10 15:45:05,551 - DataTable.account - WARNING - 自动生成account_id: account_20251110_154505
2025-11-10 15:45:05,551 - DataSyncService - INFO - 规则 account_sync: 数据已转换，需要外部表进行保存
2025-11-10 15:45:05,563 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-10 15:45:05,581 - DataTable.trade - INFO - 通过add_trade方法添加成交记录
2025-11-10 15:45:05,801 - QuantSystem - INFO - 回测完成，耗时: 0.25秒
2025-11-10 15:45:05,801 - QuantSystem - INFO - 执行回测后一致性检查...
2025-11-10 15:45:05,801 - QuantSystem - WARNING - 回测后一致性检查失败: 'AccountTable' object has no attribute 'get_all_data'
2025-11-10 15:45:05,804 - QuantSystem - INFO - 回测结果已保存: ./backtest_results\backtest_double_ma_20251110_154505.json
2025-11-10 15:45:05,804 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 15:45:05,804 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 15:45:05,804 - QuantSystem - WARNING - 最终一致性检查失败: 'AccountTable' object has no attribute 'get_all_data'
2025-11-10 15:45:05,804 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 15:45:05,805 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 15:45:05,805 - QuantSystem - INFO - 回测监控任务已停止
2025-11-10 15:45:05,910 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 15:45:06,105 - TqsdkGateway - WARNING - 断开连接时发生警告: a coroutine was expected, got None
2025-11-10 15:45:06,105 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 15:45:11,197 - QuantSystem - INFO - 系统报告已保存: system_report_20251110_154511.json
2025-11-10 15:45:11,197 - QuantSystem - INFO - 量化交易系统已停止
2025-11-10 15:54:10,638 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 15:54:10,639 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 15:54:10,641 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 15:54:10,753 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 15, 54, 10, 753772), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 15:54:14,001 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 15:55:19,358 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 65.34秒
2025-11-10 15:55:19,365 - QuantSystem - INFO - 网关连接成功
2025-11-10 15:55:19,365 - QuantSystem - INFO - 网关连接完成
2025-11-10 15:55:19,521 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 15:55:19,522 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 15:55:19,522 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 68.88秒
2025-11-10 15:55:19,522 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 15:55:19,522 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 15:55:19,522 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 15:57:28,841 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 15:57:28,842 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 15:57:28,842 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 15:57:28,842 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 15:57:28,842 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 15:57:28,842 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 15:57:28,842 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 15:57:28,955 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 15:57:28,956 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 15:57:28,956 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 15:57:34,342 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 15:57:34,342 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 15:57:34,345 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 15:57:34,428 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 15:57:34,428 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 15:57:34,430 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 15:57:34,460 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 15, 57, 34, 460537), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 15:57:34,538 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 15, 57, 34, 538154), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 15:57:38,892 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 15:57:38,892 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 15:58:51,769 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 72.88秒
2025-11-10 15:58:51,771 - QuantSystem - INFO - 网关连接成功
2025-11-10 15:58:51,771 - QuantSystem - INFO - 网关连接完成
2025-11-10 15:58:51,859 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 15:58:51,860 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 15:58:51,860 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 77.43秒
2025-11-10 15:58:51,860 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 15:58:51,860 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 15:58:51,860 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 15:58:52,181 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 73.29秒
2025-11-10 15:58:52,182 - QuantSystem - INFO - 网关连接成功
2025-11-10 15:58:52,182 - QuantSystem - INFO - 网关连接完成
2025-11-10 15:58:52,186 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 15:58:52,187 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 15:58:52,187 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 77.84秒
2025-11-10 15:58:52,187 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 15:58:52,187 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 15:58:52,188 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 16:03:27,654 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 16:03:27,655 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 16:03:27,655 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 16:03:27,655 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 16:03:27,655 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 16:03:27,655 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 16:03:27,655 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 16:03:27,764 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 16:03:27,765 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 16:03:27,765 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 16:03:27,983 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 16:03:27,983 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 16:03:27,983 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 16:03:27,983 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 16:03:27,983 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 16:03:27,985 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 16:03:27,985 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 16:03:28,094 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 16:03:28,094 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 16:03:28,094 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 16:03:30,344 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 16:03:30,344 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 16:03:30,346 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 16:03:30,461 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 16, 3, 30, 460916), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 16:03:30,502 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 16:03:30,502 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 16:03:30,504 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 16:03:30,633 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 16, 3, 30, 633512), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 16:03:34,936 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 16:03:34,937 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 16:05:43,701 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 128.76秒
2025-11-10 16:05:43,701 - QuantSystem - INFO - 网关连接成功
2025-11-10 16:05:43,701 - QuantSystem - INFO - 网关连接完成
2025-11-10 16:05:43,703 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 16:05:43,704 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 16:05:43,704 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 133.20秒
2025-11-10 16:05:43,704 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 16:05:43,704 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 16:05:43,704 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 16:05:56,881 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 141.95秒
2025-11-10 16:05:56,881 - QuantSystem - INFO - 网关连接成功
2025-11-10 16:05:56,881 - QuantSystem - INFO - 网关连接完成
2025-11-10 16:05:56,882 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 16:05:56,882 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 16:05:56,882 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 146.54秒
2025-11-10 16:05:56,882 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 16:05:56,882 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 16:05:56,882 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 16:14:15,791 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 16:14:15,791 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 16:14:15,792 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 16:14:15,792 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 16:14:15,792 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 16:14:15,792 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 16:14:15,792 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 16:14:15,901 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 16:14:15,901 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 16:14:15,901 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 16:14:16,681 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 16:14:16,681 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 16:14:16,681 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 16:14:16,682 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 16:14:16,682 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 16:14:16,683 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 16:14:16,684 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 16:14:16,790 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 16:14:16,790 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 16:14:16,790 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 16:14:18,414 - QuantSystem - INFO - 系统报告已保存: system_report_20251110_161418.json
2025-11-10 16:14:18,414 - QuantSystem - INFO - 量化交易系统已停止
2025-11-10 16:14:19,342 - QuantSystem - INFO - 系统报告已保存: system_report_20251110_161419.json
2025-11-10 16:14:19,343 - QuantSystem - INFO - 量化交易系统已停止
2025-11-10 16:14:26,454 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 16:14:26,454 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 16:14:26,455 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 16:14:26,566 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 16, 14, 26, 566580), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 16:14:30,214 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 16:15:33,799 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 63.58秒
2025-11-10 16:15:33,799 - QuantSystem - INFO - 网关连接成功
2025-11-10 16:15:33,799 - QuantSystem - INFO - 网关连接完成
2025-11-10 16:15:33,800 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 16:15:33,800 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 16:15:33,800 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 67.35秒
2025-11-10 16:15:33,800 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 16:15:33,801 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 16:15:33,801 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 16:19:23,933 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 16:19:23,934 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 16:19:23,934 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 16:19:23,934 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 16:19:23,934 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 16:19:23,935 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 16:19:23,935 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 16:19:24,043 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 16:19:24,043 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 16:19:24,043 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 18:06:56,521 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 18:06:56,522 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 18:06:56,524 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 18:06:56,630 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 18, 6, 56, 630384), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 18:07:01,282 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 18:08:07,031 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 65.75秒
2025-11-10 18:08:07,031 - QuantSystem - INFO - 网关连接成功
2025-11-10 18:08:07,031 - QuantSystem - INFO - 网关连接完成
2025-11-10 18:08:07,033 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 18:08:07,033 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 18:08:07,034 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 70.51秒
2025-11-10 18:08:07,034 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 18:08:07,034 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 18:08:07,034 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:11:02,497 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 18:11:02,497 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 18:11:02,497 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:11:02,499 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 18:11:02,499 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 18:11:02,499 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 18:11:02,499 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 18:11:02,606 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 18:11:02,607 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 18:11:02,607 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 18:11:03,625 - QuantSystem - INFO - 系统报告已保存: system_report_20251110_181103.json
2025-11-10 18:11:03,625 - QuantSystem - INFO - 量化交易系统已停止
2025-11-10 18:11:13,481 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 18:11:13,481 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 18:11:13,483 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 18:11:13,623 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 18, 11, 13, 623594), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 18:11:17,102 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 18:12:17,105 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 60.00秒
2025-11-10 18:12:17,105 - QuantSystem - INFO - 网关连接成功
2025-11-10 18:12:17,105 - QuantSystem - INFO - 网关连接完成
2025-11-10 18:12:17,106 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 18:12:17,107 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 18:12:17,107 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 63.63秒
2025-11-10 18:12:17,107 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 18:12:17,107 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 18:12:17,107 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:13:31,888 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 18:13:31,888 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 18:13:31,888 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:13:31,888 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 18:13:31,888 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 18:13:31,888 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 18:13:31,888 - TqsdkGateway - INFO - 正在取消 1 个异步任务
2025-11-10 18:13:31,888 - TqsdkGateway - WARNING - 取消异步任务时发生错误: Task <Task pending name='Task-36' coro=<QuantSystem.stop() running at D:\pythonProject\my_project\main.py:473>> got Future <_GatheringFuture pending> attached to a different loop
2025-11-10 18:13:31,890 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 18:13:31,996 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 18:13:31,996 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 18:13:31,996 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 18:20:54,809 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 18:20:54,809 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 18:20:54,811 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 18:20:54,914 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 18, 20, 54, 914293), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 18:20:57,386 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 18:21:55,230 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 57.84秒
2025-11-10 18:21:55,230 - QuantSystem - INFO - 网关连接成功
2025-11-10 18:21:55,230 - QuantSystem - INFO - 网关连接完成
2025-11-10 18:21:55,231 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 18:21:55,231 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 18:21:55,231 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 60.42秒
2025-11-10 18:21:55,231 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 18:21:55,231 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 18:21:55,231 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:30:46,337 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 18:30:46,338 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 18:30:46,339 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:30:46,340 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 18:30:46,340 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 18:30:46,342 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 18:30:46,342 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 18:30:46,446 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 18:30:46,446 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 18:30:46,446 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 18:34:54,663 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 18:34:54,663 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 18:34:54,665 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 18:34:54,771 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 18, 34, 54, 771363), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 18:34:57,975 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 18:35:54,470 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 56.50秒
2025-11-10 18:35:54,471 - QuantSystem - INFO - 网关连接成功
2025-11-10 18:35:54,471 - QuantSystem - INFO - 网关连接完成
2025-11-10 18:35:54,472 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 18:35:54,472 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 18:35:54,472 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 59.81秒
2025-11-10 18:35:54,472 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 18:35:54,472 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 18:35:54,473 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:37:05,151 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 18:37:05,151 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 18:37:05,151 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:37:05,151 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 18:37:05,152 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 18:37:05,152 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 18:37:05,152 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 18:37:05,260 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 18:37:05,260 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 18:37:05,261 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 18:37:59,815 - QuantSystem - INFO - 日志系统初始化完成
2025-11-10 18:37:59,815 - QuantSystem - INFO - 开始初始化量化交易系统...
2025-11-10 18:37:59,816 - QuantSystem - INFO - 事件引擎启动完成
2025-11-10 18:37:59,919 - QuantSystem - INFO - 数据管理器状态: {'timestamp': datetime.datetime(2025, 11, 10, 18, 37, 59, 919329), 'tables_initialized': True, 'total_tables': 4, 'initialized_tables': 4, 'table_details': {'account': {'table_name': 'account', 'initialized': True, 'account_count': 1, 'config': {'table_name': 'account', 'type': 'account', 'persistent': True, 'validation_rules': {'required_fields': ['account_id', 'balance', 'available']}}}, 'order': {'table_name': 'order', 'initialized': True, 'order_count': 0, 'config': {'table_name': 'order', 'type': 'order', 'persistent': True, 'validation_rules': {'required_fields': ['order_id', 'symbol', 'direction', 'volume']}}}, 'position': {'table_name': 'position', 'initialized': True, 'position_count': 0, 'config': {'table_name': 'position', 'type': 'position', 'persistent': True, 'validation_rules': {'required_fields': ['strategy', 'symbol', 'direction', 'volume']}}}, 'trade': {'table_name': 'trade', 'initialized': True, 'trade_count': 0, 'config': {'table_name': 'trade', 'type': 'trade', 'persistent': True, 'validation_rules': {'required_fields': ['trade_id', 'symbol', 'direction', 'volume']}}}}}
2025-11-10 18:38:03,093 - TqsdkGateway - INFO - 正在连接天勤API...
2025-11-10 18:39:05,547 - TqsdkGateway - INFO - 天勤API连接成功，耗时: 62.45秒
2025-11-10 18:39:05,548 - QuantSystem - INFO - 网关连接成功
2025-11-10 18:39:05,548 - QuantSystem - INFO - 网关连接完成
2025-11-10 18:39:05,549 - QuantSystem - INFO - 监控服务启动完成
2025-11-10 18:39:05,549 - QuantSystem - INFO - 监控指标注册完成
2025-11-10 18:39:05,549 - QuantSystem - INFO - 量化交易系统初始化完成，耗时: 65.73秒
2025-11-10 18:39:05,549 - QuantSystem - INFO - 开始回测策略: double_ma
2025-11-10 18:39:05,550 - QuantSystem - INFO - 执行回测前一致性检查...
2025-11-10 18:39:05,550 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:48:06,511 - QuantSystem - INFO - 开始停止量化交易系统...
2025-11-10 18:48:06,511 - QuantSystem - INFO - 执行最终数据一致性检查...
2025-11-10 18:48:06,511 - ConsistencyChecker - INFO - 开始验证账户数据一致性...
2025-11-10 18:48:06,511 - TqsdkGateway - ERROR - 获取账户信息失败: 不能在协程中调用 wait_update, 如需在协程中等待业务数据更新请使用 register_update_notify
2025-11-10 18:48:06,512 - QuantSystem - WARNING - 最终一致性检查失败: 'ConsistencyResult' object has no attribute 'get'
2025-11-10 18:48:06,512 - TqsdkGateway - INFO - 执行断开连接前的最终数据同步...
2025-11-10 18:48:06,512 - TqsdkGateway - INFO - 执行最终数据同步...
2025-11-10 18:48:06,619 - TqsdkGateway - INFO - 最终数据同步完成
2025-11-10 18:48:06,619 - TqsdkGateway - WARNING - 断开连接时发生警告: 不能在协程中调用 close, 如需关闭 api 实例需在 wait_update 返回后再关闭
2025-11-10 18:48:06,620 - TqsdkGateway - INFO - 天勤API连接已断开
2025-11-10 18:48:09,271 - QuantSystem - INFO - 系统报告已保存: system_report_20251110_184809.json
2025-11-10 18:48:09,271 - QuantSystem - INFO - 量化交易系统已停止
